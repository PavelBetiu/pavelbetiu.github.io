(self["webpackChunkpavel_betiu_portfolio"]=self["webpackChunkpavel_betiu_portfolio"]||[]).push([[436],{54672:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Be}});var a=n(73396),s=n(49242),i=n(87139);const o={class:"wrapper body"},r={class:"main-panel"},l={class:"content mt-6"},d={class:"row d-flex justify-content-center"},c={class:"col-md-10 mr-auto ml-auto"},h=(0,a._)("h3",{class:"card-title"},"Insert text",-1),u=(0,a._)("h3",{class:"description"},"Insert your text here",-1),b={class:"wizard-tab-content"},p={class:"form-group"},m={class:"wizard-tab-content"},v={class:"form-group row"},f={class:"ml-5 col-lg-2 d-flex align-items-center"},y=(0,a._)("label",{class:"m-2"}," RL ",-1),w={class:"col-lg-3 d-flex align-items-center"},g=(0,a._)("label",{class:"m-2"},"Named entity (NER)",-1),x={class:"col-lg-3 d-flex align-items-center"},T=(0,a._)("label",{class:"m-2"},"Oracle (Answer Selector)",-1),k={class:"col-lg-3 d-flex align-items-center"},S=(0,a._)("label",{class:"m-2"},"User annotated (Please enable to create)",-1),I=["innerHTML"],A={key:0,class:"wizard-tab-content d-flex justify-content-center align-items-center"},_={class:"wizard-tab-content"},C={class:"form-group d-flex flex-column justify-content-center align-items-center h-100 qgen-text-style"},z={class:"form-floating mb-3 w-50"},B=(0,a._)("label",{class:"h6",for:"nbQuest"},"Select the number of questions (per answer)",-1),W={class:"form-floating w-50"},q=(0,a._)("label",{class:"h6",for:"nbOpt"},"Select the number of options (per question)",-1),N={class:"wizard-tab-content"},R={class:"form-group row"},U={key:0,class:"w-100 d-flex justify-content-start"},L={key:1},D={key:0,class:"wizard-tab-content d-flex justify-content-center align-items-center"},O={class:"w-100 d-flex justify-content-between align-items-center"},$=["onClick"],E=["onClick"],P=["onClick"],V={key:2,class:"d-flex justify-content-between align-items-center"},M=["onClick"];function j(e,t,n,j,H,F){const Q=(0,a.up)("wizard-tab"),G=(0,a.up)("p-checkbox"),Z=(0,a.up)("p-progress-spinner"),J=(0,a.up)("Table"),K=(0,a.up)("wizard");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",r,[(0,a._)("div",l,[(0,a._)("div",d,[(0,a._)("div",c,[(0,a.Wm)(K,{onComplete:F.wizardComplete,finishButtonText:"Generate Questions"},{header:(0,a.w5)((()=>[h,u])),default:(0,a.w5)((e=>[(0,a.Wm)(Q,{beforeChange:()=>F.validateText(e),id:"new-text-tab"},{label:(0,a.w5)((()=>[(0,a.Uk)(" New Text ")])),default:(0,a.w5)((()=>[(0,a._)("div",b,[(0,a._)("div",p,[(0,a.wy)((0,a._)("textarea",{class:"form-control qgen-text-style","onUpdate:modelValue":t[0]||(t[0]=e=>H.text=e),placeholder:"Enter at least 10 characters",rows:"16"},null,512),[[s.nr,H.text]])])])])),_:2},1032,["beforeChange"]),(0,a.Wm)(Q,{beforeChange:()=>F.validateAnnotations(e),afterRender:F.annotationsTabAfterRender,id:"text-annotation-tab"},{label:(0,a.w5)((()=>[(0,a.Uk)(" Text Annotation ")])),default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",m,[(0,a._)("div",v,[(0,a._)("div",f,[(0,a.Wm)(G,{modelValue:H.rlIsSelected,"onUpdate:modelValue":t[1]||(t[1]=e=>H.rlIsSelected=e),binary:!0,pt:{input:({props:e,state:t})=>({class:t.focused?"rl-checkbox-focus":"rl-checkbox"})}},null,8,["modelValue","pt"]),y]),(0,a._)("div",w,[(0,a.Wm)(G,{modelValue:H.nerIsSelected,"onUpdate:modelValue":t[2]||(t[2]=e=>H.nerIsSelected=e),binary:!0,pt:{input:({props:e,state:t})=>({class:t.focused?"ner-checkbox-focus":"ner-checkbox"})}},null,8,["modelValue","pt"]),g]),(0,a._)("div",x,[(0,a.Wm)(G,{modelValue:H.oracleIsSelected,"onUpdate:modelValue":t[3]||(t[3]=e=>H.oracleIsSelected=e),binary:!0,pt:{input:({props:e,state:t})=>({class:t.focused?"oracle-checkbox-focus":"oracle-checkbox"})}},null,8,["modelValue","pt"]),T]),(0,a._)("div",k,[(0,a.Wm)(G,{modelValue:H.userAnnIsSelected,"onUpdate:modelValue":t[4]||(t[4]=e=>H.userAnnIsSelected=e),binary:!0,pt:{input:({props:e,state:t})=>({class:t.focused?"user-checkbox-focus":"user-checkbox"})}},null,8,["modelValue","pt"]),S])]),(0,a._)("div",{id:"annotated-text",class:"text-justify qgen-text-style",innerHTML:H.annotatedText,style:(0,i.j5)(F.setUnselectableIfUserAnnNotChecked()),onMouseup:t[5]||(t[5]=e=>F.handleOnMouseUpEvent(e))},null,44,I)],512),[[s.F8,H.annotationsReceived]]),H.annotationsReceived?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",A,[(0,a.Wm)(Z)]))])),_:2},1032,["beforeChange","afterRender"]),(0,a.Wm)(Q,{beforeChange:()=>F.validateParameters(e),id:"parameters-tab"},{label:(0,a.w5)((()=>[(0,a.Uk)(" Parameters ")])),default:(0,a.w5)((()=>[(0,a._)("div",_,[(0,a._)("div",C,[(0,a._)("div",z,[(0,a.wy)((0,a._)("input",{id:"nbQuest",type:"number",class:"form-control","onUpdate:modelValue":t[6]||(t[6]=e=>H.numberOfQuestions=e)},null,512),[[s.nr,H.numberOfQuestions]]),B]),(0,a._)("div",W,[(0,a.wy)((0,a._)("input",{id:"nbOpt",type:"number",class:"form-control","onUpdate:modelValue":t[7]||(t[7]=e=>H.numberOfOptions=e)},null,512),[[s.nr,H.numberOfOptions]]),q])])])])),_:2},1032,["beforeChange"]),(0,a.Wm)(Q,{id:"generated-questions-tab"},{label:(0,a.w5)((()=>[(0,a.Uk)(" Generated Questions ")])),default:(0,a.w5)((()=>[(0,a.wy)((0,a._)("div",N,[(0,a._)("div",R,[(0,a.Wm)(J,{data:H.tableData,isSortable:!1,withCustomBody:!0,isScrollable:!0,setScrollHeight:"500px"},{column:(0,a.w5)((({rowData:e,currentColumnData:t})=>["relevant"==t.key||"grammar"==t.key||"coherence"==t.key?((0,a.wg)(),(0,a.iD)("div",U,[(0,a.Wm)(G,{modelValue:e[t.key],"onUpdate:modelValue":n=>e[t.key]=n,binary:!0},null,8,["modelValue","onUpdate:modelValue"])])):((0,a.wg)(),(0,a.iD)("div",L,(0,i.zw)(e[t.key]),1))])),_:1},8,["data"])])],512),[[s.F8,H.questionsReceived]]),H.questionsReceived?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",D,[(0,a.Wm)(Z)]))])),_:1})])),footer:(0,a.w5)((({nextTab:e,prevTab:n,activeTabIndex:s,tabCount:i,navigateToTab:o,uncheckNextTabs:r})=>[(0,a._)("div",O,[(0,a._)("div",null,[s>0?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:n,class:"btn btn-default m-2"}," Previous ",8,$)):(0,a.kq)("",!0)]),(0,a._)("div",null,[s<i-2?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e,class:"btn btn-primary m-2"}," Next ",8,E)):s==i-2?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e,class:"btn btn-primary m-2"}," Generate Questions ",8,P)):((0,a.wg)(),(0,a.iD)("div",V,[H.questionsReceived?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[8]||(t[8]=(...e)=>F.doExportJsonAsExcel&&F.doExportJsonAsExcel(...e)),class:"btn btn-success m-2"}," Download Test ")):(0,a.kq)("",!0),H.questionsReceived?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e=>F.resetWizard(o,r),class:"btn btn-primary m-2"}," New Text ",8,M)):(0,a.kq)("",!0)]))])])])),_:1},8,["onComplete"])])])])])])}n(70560);const H=["id","aria-hidden","aria-labelledby"];function F(e,t,n,o,r,l){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{class:(0,i.C_)(["tab-pane fade",{"active show":r.active}]),role:"tabpanel",id:r.tabId,"aria-hidden":!r.active,"aria-labelledby":`step-${r.tabId}`},[(0,a.WI)(e.$slots,"default")],10,H)),[[s.F8,r.active]])}var Q={name:"wizard-tab",props:{label:{type:String,description:"Wizard tab label (title)"},id:{type:String,description:"wizard tab id"},beforeChange:{type:Function,description:"Function to execute before switching to another tab. Can be Function<boolean> or Function<Promise<boolean>>"},afterRender:{type:Function,optional:!0,description:"Function to execute after tab is rendered"}},inject:["addTab","removeTab"],data(){return{active:!1,checked:!1,hasError:!1,tabId:""}},mounted(){this.addTab(this)},unmounted(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.removeTab(this)},updated(){this.afterRender&&this.afterRender()}},G=n(40089);const Z=(0,G.Z)(Q,[["render",F]]);var J=Z;const K=["id"],Y={class:"card-header text-center"},X={class:"card-title"},ee={class:"description"},te={class:"wizard-navigation w-100 h-100"},ne={class:"row nav nav-pills"},ae=["tabindex","id","aria-controls","aria-disabled","aria-selected"],se=["onClick"],ie={class:"card-body"},oe={class:"tab-content"},re={class:"card-footer"},le={class:"w-100 d-flex justify-content-between align-items-center"};function de(e,t,n,o,r,l){const d=(0,a.up)("tab-item-content");return(0,a.wg)(),(0,a.iD)("div",{class:"wizard-container",id:r.wizardId},[(0,a._)("div",{class:(0,i.C_)(["card card-wizard active",[n.wizardClasses,{"card-transparent":n.plain}]])},[(0,a._)("form",{onSubmit:t[3]||(t[3]=(0,s.iM)((()=>{}),["prevent"]))},[(0,a._)("div",Y,[n.showHeader&&!e.$slots.header()?(0,a.WI)(e.$slots,"header",{key:0},(()=>[(0,a._)("h3",X,(0,i.zw)(n.title),1),(0,a._)("h3",ee,(0,i.zw)(n.subTitle),1)])):(0,a.kq)("",!0),(0,a._)("div",te,[(0,a._)("div",ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.tabs,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.title,tabindex:e.checked?0:"",id:`step-${e.tabId}`,"aria-controls":e.tabId,"aria-disabled":e.active,"aria-selected":e.active,ref_for:!0,ref:`tab-${t}`,class:"col nav-item wizard-tab-link",style:(0,i.j5)(l.linkWidth)},[(0,a._)("a",{class:(0,i.C_)(["nav-link",[{"disabled-wizard-link":!e.checked},{active:e.active},{checked:e.checked}]]),onClick:e=>l.navigateToTab(t),"data-toggle":"tab"},[(0,a.Wm)(d,{tab:e},null,8,["tab"])],10,se)],12,ae)))),128))]),l.activeTab?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)(["moving-tab",{"error-link":l.activeTab.hasError}]),style:(0,i.j5)([{transition:"transform 0.5s cubic-bezier(0.29, 1.42, 0.79, 1)",width:"100%"},l.movingTabStyles])},[(0,a.Wm)(d,{tab:l.activeTab,"moving-tab":!0},null,8,["tab"])],6)):(0,a.kq)("",!0)])]),(0,a._)("div",ie,[(0,a._)("div",oe,[(0,a.WI)(e.$slots,"default",{activeIndex:r.activeTabIndex,activeTab:l.activeTab,uncheckNextTabs:l.uncheckNextTabs,prevTab:l.prevTab})])]),(0,a._)("div",re,[(0,a.WI)(e.$slots,"footer",{nextTab:l.nextTab,prevTab:l.prevTab,activeTabIndex:r.activeTabIndex,tabCount:l.tabCount,navigateToTab:l.navigateToTab,uncheckNextTabs:l.uncheckNextTabs},(()=>[(0,a._)("div",le,[(0,a._)("div",null,[r.activeTabIndex>0?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>l.prevTab&&l.prevTab(...e)),class:"btn btn-default m-2"},(0,i.zw)(n.prevButtonText),1)):(0,a.kq)("",!0)]),(0,a._)("div",null,[r.activeTabIndex<l.tabCount-1?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>l.nextTab&&l.nextTab(...e)),class:"btn btn-primary m-2"},(0,i.zw)(n.nextButtonText),1)):((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:t[2]||(t[2]=(...e)=>l.nextTab&&l.nextTab(...e)),class:"btn btn-primary m-2"},(0,i.zw)(n.finishButtonText),1))])])]))])],32)],2)],8,K)}n(74806);function ce(e,t=66){let n=!1;return function(){n||(n=!0,e(),setTimeout((function(){n=!1}),t))}}function he(e=7){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";let n="";for(let a=0;a<e;a++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}var ue={name:"simple-wizard",props:{wizardClasses:{type:[String,Object,Array],description:"Wizard card classes"},plain:{type:Boolean,default:!1,description:"Whether wizard should be on plain background"},showHeader:{type:Boolean,default:!0,description:"Whether Wizard header should be displayed"},startIndex:{type:Number,default:0,description:"Wizard start index (activated tab to start with)"},title:{type:String,default:"Title",description:"Wizard title"},subTitle:{type:String,default:"Subtitle",description:"Wizard sub title"},prevButtonText:{type:String,default:"Previous",description:"Previous button text"},nextButtonText:{type:String,default:"Next",description:"Next button text"},finishButtonText:{type:String,default:"Finish",description:"Finish button text"},vertical:{type:Boolean,description:"Whether wizard tabs should be vertical"}},components:{TabItemContent:{props:["tab","movingTab"],render(){return this.movingTab?(0,a.h)("span"):(0,a.h)("span",[this.tab.$slots.label()||this.tab.label])}}},provide(){return{addTab:this.addTab,removeTab:this.removeTab}},data(){return{tabs:[],activeTabIndex:0,tabLinkWidth:0,tabLinkHeight:50,wizardId:he(),onResizeWithThrottle:ce(this.onResize,40)}},computed:{tabCount(){return this.tabs.length},linkWidth(){let e=100;return this.tabCount>0&&(e=100/this.tabCount),this.vertical&&(e=100),{width:`${e}%`}},activeTab(){return this.tabs[this.activeTabIndex]},movingTabStyles(){let e=this.tabLinkWidth*this.activeTabIndex,t=0;this.vertical&&(t=this.tabLinkHeight*this.activeTabIndex,e=0);let n={transform:`translate3d(${e}px, ${t}px, 0px)`};return 0!==this.tabLinkWidth&&(n.width=`${this.tabLinkWidth}px`),n}},methods:{addTab(e){let t=this.$slots.default().findIndex((t=>t.props.id===e.id));e.tabId=`${t}`,this.activeTab||0!==t||(e.active=!0,e.checked=!0),this.onResize(),this.tabs.splice(t,0,e)},removeTab(e){const t=this.tabs,n=t.indexOf(e);n>-1&&t.splice(n,1)},validate(e){let t=e||this.activeTab,n=t.beforeChange;return n?Promise.resolve(n()).then((e=>(this.activeTab.hasError=!e,e))).catch((()=>{this.activeTab.hasError=!0})):Promise.resolve(!0)},async nextTab(){let e=await this.validate();return e&&this.activeTabIndex===this.tabCount-1&&this.$emit("complete"),e&&this.activeTabIndex<this.tabCount-1&&this.activeTabIndex++,e},prevTab(){this.activeTabIndex--},async navigateToTab(e){if(this.tabs[e].checked)if(e>this.activeTabIndex){let t=await this.nextTab();t&&this.navigateToTab(e)}else this.activeTabIndex=e},uncheckNextTabs(){for(let e=this.activeTabIndex+1;e<this.tabCount;e++)this.tabs[e].checked=!1},onResize(){let e=document.querySelectorAll(`#${this.wizardId} .wizard-tab-link`);if(e.length>0&&this.tabCount>0){let{clientWidth:t,clientHeight:n}=e[0];this.tabLinkWidth=t,this.tabLinkHeight=n}}},mounted(){this.activeTabIndex=this.startIndex,this.$nextTick((()=>{this.tabs[this.activeTabIndex].active=!0,this.tabs[this.activeTabIndex].checked=!0,this.onResize()})),window.addEventListener("resize",(()=>{this.onResizeWithThrottle()}),!1)},watch:{activeTabIndex(e,t){if(e!==t){let n=this.tabs[t],a=this.tabs[e];n.active=!1,a.active=!0,a.checked||(a.checked=!0),this.$emit("tab-change",n,a),this.$emit("update:startIndex",e)}}}};const be=(0,G.Z)(ue,[["render",de]]);var pe=be,me=n(86041),ve=n(37263),fe=n(69375),ye=n(69822),we=n(85820);function ge(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function xe(e){return{id:ge(),type:e.type.toLowerCase(),start:e.start,end:e.end,text:e.text,label:e.type.toUpperCase()}}function Te(e){return{start:e.start,end:e.end}}function ke(e){const t={columns:[{key:"question",displayName:"Question"},{key:"correct_answer",displayName:"Correct Answer"},{key:"option_2",displayName:"Option 2"},{key:"option_3",displayName:"Option 3"},{key:"option_4",displayName:"Option 4"},{key:"relevant",displayName:"Relevant"},{key:"grammar",displayName:"Grammar"},{key:"coherence",displayName:"Coherence"}],rows:[]};for(const n of e){const e={question:n.question,correct_answer:n.answer,option_2:n.distractors[0],option_3:n.distractors[1],option_4:n.distractors[2],relevant:!1,grammar:!1,coherence:!1};t.rows.push(e)}return t}function Se(e){const t={sheets:[]},n={sheet:"Test",columns:[{label:"Question",value:"question"},{label:"Correct Answer",value:"correct_answer"}],content:[]};(0,we.hu)(e.length>0,"Tests array is empty");const a=e[0].distractors.length;for(let s=0;s<a;s++)n.columns.push({label:`Option ${s+2}`,value:`option_${s+2}`});for(const s of e){const e={question:s.question,correct_answer:s.answer};for(let t=0;t<a;t++)e[`option_${t+2}`]=s.distractors[t];n.content.push(e)}return t.sheets.push(n),t}var Ie=n(87257),Ae=n.n(Ie);function _e(e,t){Ae()(e.sheets,t)}var Ce={components:{Wizard:pe,WizardTab:J,Table:me.Z},data(){return{toastService:null,text:"Alexander Graham Bell was born in Edinburgh, Scotland on March 3, 1847. When he was only eleven years old, he invented a machine that could clean wheat. Graham studied anatomy and physiology at the University of London, but moved with his family to Quebec, Canada in 1870. Bell soon moved to Boston, Massachusetts. In 1871, he began working with deaf people and published the system of Visible Hearing that was developed by his father. Visible hearing illustrated how the tongue, lips, and throat are used to produce vocal sounds. In 1872, Bell founded a school for the deaf which soon became part of Boston University. Alexander Graham Bell is best known for his invention of the telephone. While trying to discover the secret of transmitting multiple messages on a single wire, Bell heard the sound of a plucked string along some of the electrical wire. One of Bell's assistants, Thomas A. Watson, was trying to reactivate a telephone transmitter. After hearing the sound, Bell believed he could send the sound of a human voice over the wire. After receiving a patent on March 7, 1876 for transmitting sound along a single wire, he successfully transmitted human speech on March 10th. Bell's telephone patent was one of the most valuable patents ever issued. He started the Bell Telephone Company in 1877. Bell went on to invent a precursor to the modern day air conditioner, and a device, called a \"photophone\", that enabled sound to be transmitted on a beam of light. Today's fiber optic and laser communication systems are based on Bell's photophone research. In 1898, Alexander Graham Bell and his son-in-law took over the National Geographic Society and built it into one of the most recognized magazines in the world. Bell also helped found Science Magazine, one of the most respected research journals in the world.",lastProcessedTextCleansed:"",annotationService:null,annotatedText:"",rlIsSelected:!1,nerIsSelected:!1,oracleIsSelected:!1,userAnnIsSelected:!1,annotationsReceived:!1,annotationsRendered:!1,annotations:[],lastProcessedAnnotations:"",numberOfQuestions:1,numberOfOptions:4,tableData:{},qgenTests:null,questionsReceived:!1}},created(){this.annotationService=(0,a.f3)(fe.K),this.qgenService=(0,a.f3)(ye.i),this.toastService=(0,a.f3)(ve.F)},mounted(){this.annotationService.init("annotated-text",{onUserAddedAnnotation:this.onUserAnnotationAdded,onUserDeletedAnnotation:this.onUserAnnotationDeleted,onUserUpdatedAnnotation:this.onUserAnnotationUpdated},this.annotationFormatter);const e=document.getElementsByClassName("r6o-content-wrapper")[0],t=e.children[1],n=new MutationObserver((e=>{e.forEach((e=>{if("childList"===e.type){const e=document.querySelectorAll("div.r6o-widget.r6o-tag")[0];void 0!=e&&e.remove();const t=document.querySelectorAll("div.r6o-widget.comment.editable")[0];void 0!=t&&t.remove();const n=document.getElementsByClassName("r6o-editor-inner")[0];void 0!=n&&n.classList.add("rounded-3");const a=document.getElementsByClassName("r6o-arrow-down")[0];void 0!=a&&a.remove();const s=document.getElementsByClassName("r6o-footer")[0];if(void 0!=s){const e=s.querySelectorAll("button");e.forEach((e=>{if("Cancel"==e.innerText){for(const t of e.classList)e.classList.remove(t);e.classList.add("btn"),e.classList.add("btn-outline-danger"),e.classList.add("m-2")}else if("Ok"==e.innerText){for(const t of e.classList)e.classList.remove(t);e.classList.add("btn"),e.classList.add("btn-primary"),e.classList.add("my-2"),e.classList.add("mr-2")}}));const t=document.getElementsByClassName("r6o-editor-inner")[0],n=new MutationObserver((e=>{e.forEach((e=>{if("childList"===e.type){const e=document.querySelectorAll("div.r6o-widget.r6o-tag")[0];void 0!=e&&e.remove()}}))}));n.observe(t,{childList:!0})}}}))}));n.observe(t,{childList:!0})},methods:{annotationsTabAfterRender(){this.annotationsReceived&&!this.annotationsRendered&&(this.showAllAnnotations(),this.annotationsRendered=!0)},generateRandomId(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},setUnselectableIfUserAnnNotChecked(){return this.userAnnIsSelected?"":"user-select: none;"},handleOnMouseUpEvent(e){"div"!=e.target.localName||this.userAnnIsSelected||this.info("User annotated checkbox not selected","Please select the User annotated checkbox first to create new annotations")},validateStep(e){return this.$refs[e].validate()},wizardComplete(){},validateText(e){let t=this.text.replace(/[^a-z0-9]/gi,"");return""==t?(this.info("Empty text","Please insert a text"),Promise.resolve(!1)):(t==this.lastProcessedTextCleansed||(this.clearAnnotationStep(),e.uncheckNextTabs(),this.getAnnotations().then((e=>{this.lastProcessedTextCleansed=t,this.annotatedText=e.text,this.annotations=e.answers.map((e=>xe(e))),this.annotationsReceived=!0;this.annotations.map((e=>e.type))})).catch((t=>{this.error("Error",t),e.prevTab(),e.uncheckNextTabs()}))),Promise.resolve(!0))},getAnnotations(){return this.qgenService.getAnswers({text:this.text})},validateAnnotations(){return 0==this.getVisibleAnnotations().length?(this.info("No annotations selected","Please annotate the text or toggle the checkboxes to select the annotations"),Promise.resolve(!1)):Promise.resolve(!0)},checkIfSameAnnotations(e,t){return e.id==t.id},onUserAnnotationAdded(e){this.annotations.push(e)},onUserAnnotationDeleted(e){this.annotations=this.annotations.filter((t=>t.id!=e.id))},onUserAnnotationUpdated(e){this.annotations=this.annotations.map((t=>t.id==e.id?e:t))},showAllAnnotations(){this.rlIsSelected=!0,this.nerIsSelected=!0,this.oracleIsSelected=!0,this.userAnnIsSelected=!0},showAnnotationsByType(e){let t=this.annotations.filter((t=>t.type==e));for(let n=0;n<t.length;n++)this.annotationService.addAnnotation(t[n])},hideAnnotationsByType(e){let t=this.annotations.filter((t=>t.type==e));for(let n=0;n<t.length;n++)this.annotationService.deleteAnnotation(t[n])},getVisibleAnnotations(){let e=[];return this.rlIsSelected&&(e=e.concat(this.annotations.filter((e=>"rl"==e.type)))),this.nerIsSelected&&(e=e.concat(this.annotations.filter((e=>"ner"==e.type)))),this.oracleIsSelected&&(e=e.concat(this.annotations.filter((e=>"oracle"==e.type)))),this.userAnnIsSelected&&(e=e.concat(this.annotations.filter((e=>"user"==e.type)))),e},annotationFormatter(e){const t={rl:"rl-annotation-format",ner:"ner-annotation-format",oracle:"oracle-annotation-format",user:"user-annotation-format"};return t[e.type]},validateParameters(e){let t=this.getVisibleAnnotations();return JSON.stringify(t)==this.lastProcessedAnnotations||(this.questionsReceived=!1,this.getTest().then((e=>{this.lastProcessedAnnotations=JSON.stringify(t),this.qgenTests=e.tests,this.tableData=ke(e.tests),this.questionsReceived=!0})).catch((t=>{this.error("Error",t),e.prevTab(),e.uncheckNextTabs()}))),Promise.resolve(!0)},getTest(){let e=this.getVisibleAnnotations().map((e=>Te(e))),t={text:this.text,answers:e};return this.qgenService.getTest(t)},success(e,t){this.toastService&&this.toastService.success(t,e)},info(e,t){this.toastService&&this.toastService.info(t,e)},error(e,t){this.toastService&&this.toastService.error(t,e,-1)},clearAnnotationStep(){this.rlIsSelected=!1,this.nerIsSelected=!1,this.oracleIsSelected=!1,this.userAnnIsSelected=!1,this.annotationsReceived=!1,this.annotationsRendered=!1,this.annotations=[],this.lastProcessedAnnotations="",this.annotationService.clearAnnotations()},resetWizard(e,t){this.text="",this.lastProcessedTextCleansed="",this.clearAnnotationStep(),this.numberOfQuestions=1,this.numberOfOptions=4,this.tableData={},this.qgenTests=null,this.questionsReceived=!1,e(0),t()},doExportJsonAsExcel(){if(this.questionsReceived){const e={fileName:"Questions and Answers",extraLength:3,writeMode:"writeFile",writeOptions:{}};_e(Se(this.qgenTests),e)}}},watch:{rlIsSelected(e,t){1==e?this.showAnnotationsByType("rl"):this.hideAnnotationsByType("rl")},nerIsSelected(e,t){1==e?this.showAnnotationsByType("ner"):this.hideAnnotationsByType("ner")},oracleIsSelected(e,t){1==e?this.showAnnotationsByType("oracle"):this.hideAnnotationsByType("oracle")},userAnnIsSelected(e,t){1==e?this.showAnnotationsByType("user"):this.hideAnnotationsByType("user")}}};const ze=(0,G.Z)(Ce,[["render",j]]);var Be=ze},86041:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a={};n.r(a);var s=n(73396);function i(e,t,n,a,i,o){const r=(0,s.up)("p-column"),l=(0,s.up)("p-datatable");return(0,s.wg)(),(0,s.j4)(l,{value:n.data.rows,responsiveLayout:n.isScrollable?"scroll":"",scrollable:n.isScrollable,scrollHeight:n.setScrollHeight,stripedRows:!0},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.data.columns,(t=>((0,s.wg)(),(0,s.j4)(r,{field:t.key,header:t.displayName,key:t.key,sortable:n.isSortable},(0,s.Nv)({_:2},[n.withCustomBody?{name:"body",fn:(0,s.w5)((({data:n})=>[(0,s.WI)(e.$slots,"column",{rowData:n,currentColumnData:t})])),key:"0"}:void 0]),1032,["field","header","sortable"])))),128))])),_:3},8,["value","responsiveLayout","scrollable","scrollHeight"])}var o={props:{data:a.TableInput,isScrollable:{type:Boolean,default:!0,required:!1},isSortable:{type:Boolean,default:!0,required:!1},withCustomBody:{type:Boolean,default:!1,required:!1},setScrollHeight:{type:String,default:"750px",required:!1}},data(){return{}}},r=n(40089);const l=(0,r.Z)(o,[["render",i]]);var d=l},13924:function(){},66490:function(){},56952:function(){}}]);