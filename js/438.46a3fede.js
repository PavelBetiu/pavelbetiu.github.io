"use strict";(self["webpackChunkpavel_betiu_portfolio"]=self["webpackChunkpavel_betiu_portfolio"]||[]).push([[438],{6438:function(e,s,o){o.r(s),o.d(s,{default:function(){return Z}});var t=o(3396),a=o(9242),r=o(5284);const n=e=>((0,t.dD)("data-v-7b7df58c"),e=e(),(0,t.Cn)(),e),i={class:"body page-header min-vh-100"},c={class:"container"},l={class:"row d-flex justify-content-around"},d={class:"col-4 card login-form"},m={class:"card card-plain login-form-card"},u=n((()=>(0,t._)("div",{class:"card-header",style:{"box-shadow":"none"}},[(0,t._)("p",{class:"mb-0"},"Enter your email and password to sign in")],-1))),p={class:"card-body"},b={class:"mb-3"},h={class:"mb-3"},f=n((()=>(0,t._)("div",{class:"form-check form-switch"},[(0,t._)("input",{class:"form-check-input",type:"checkbox",id:"rememberMe"}),(0,t._)("label",{class:"form-check-label",for:"rememberMe"},"Remember me")],-1))),_={class:"text-center"},g={class:"card-footer text-center pt-0 px-lg-2 px-1"},v={class:"mb-4 text-sm mx-auto"},w={class:"mb-4 text-sm mx-auto"},y=n((()=>(0,t._)("div",{class:"col-4 d-flex justify-content-center align-items-center"},[(0,t._)("img",{class:"w-80 h-80",src:r})],-1)));function k(e,s,o,r,n,k){const x=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",i,[(0,t._)("div",c,[(0,t._)("div",l,[(0,t._)("div",d,[(0,t._)("div",m,[u,(0,t._)("div",p,[(0,t._)("form",{role:"form",onSubmit:s[3]||(s[3]=(0,a.iM)(((...e)=>k.submitForm&&k.submitForm(...e)),["prevent"]))},[(0,t._)("div",b,[(0,t.wy)((0,t._)("input",{type:"email",class:"form-control form-control-lg",placeholder:"Email","aria-label":"Email","aria-describedby":"email-addon","onUpdate:modelValue":s[0]||(s[0]=e=>n.username=e)},null,512),[[a.nr,n.username]])]),(0,t._)("div",h,[(0,t.wy)((0,t._)("input",{type:"password",class:"form-control form-control-lg",placeholder:"Password","aria-label":"Password","aria-describedby":"password-addon","onUpdate:modelValue":s[1]||(s[1]=e=>n.password=e)},null,512),[[a.nr,n.password]])]),f,(0,t._)("div",_,[(0,t._)("button",{type:"button",class:"btn btn-lg bg-gradient-primary btn-lg w-100 mt-4 mb-0",onClick:s[2]||(s[2]=e=>k.login())},"Sign in")])],32)]),(0,t._)("div",g,[(0,t._)("p",v,[(0,t.Wm)(x,{to:"/forgot-password"},{default:(0,t.w5)((()=>[(0,t.Uk)("Forgot password ?")])),_:1})]),(0,t._)("p",w,[(0,t.Wm)(x,{to:"/sign-up",class:"text-primary text-gradient font-weight-bold"},{default:(0,t.w5)((()=>[(0,t.Uk)("Sign Up")])),_:1})])])])]),y])])])}var x=o(6678),S=o(4161),F=o(7263),L={name:"Login",data(){return{username:"",password:"",toastService:(0,t.f3)(F.F)}},methods:{login(){let e="/";this.$route.query.redirect&&(e=decodeURIComponent(this.$route.query.redirect)),x.Z.dummy_successful_login({username:this.username,password:this.password},e,this.onLoginSuccess,this.onLoginFail)},onLoginSuccess(e){this.toastService&&this.toastService.success("Welcome to ReaderBench!","Hi, "+e.username)},onLoginFail(e){this.toastService&&this.toastService.error(e.response.data.error_description,"Login failed")},submitForm(e){const s={username:this.username,password:this.password};S.Z.post("/api/v2/oauth2/token/",s).then((e=>{console.log(e);const s=e.data.auth_token;this.$store.commit("setToken",s),S.Z.defaults.headers.common["Authorization"]=`Bearer ${s}`,localStorage.setItem("token",s)})).catch((e=>{console.log(e)}))}}},U=o(89);const C=(0,U.Z)(L,[["render",k],["__scopeId","data-v-7b7df58c"]]);var Z=C}}]);
//# sourceMappingURL=438.46a3fede.js.map