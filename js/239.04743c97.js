"use strict";(self["webpackChunkpavel_betiu_portfolio"]=self["webpackChunkpavel_betiu_portfolio"]||[]).push([[239],{5735:function(e,t,a){a.d(t,{Z:function(){return b}});var s=a(73396),l=a(87139);const i={class:"d-flex justify-content-start"},o=["onClick"],r=["onClick","disabled"],n={key:0},c={class:"p-1"},d={class:"col-9 px-4 py-1"},u={class:"font-semibold text-truncate"},p={class:"pb-1"},m={class:"d-flex justify-content-end pr-4 col-3"};function h(e,t,a,h,g,f){const v=(0,s.up)("Button"),_=(0,s.up)("FileUpload");return(0,s.wg)(),(0,s.j4)(_,{onSelect:f.emitSelectEvent,onClear:f.emitClearEvent,onRemove:f.emitRemoveEvent,multiple:a.multiple,accept:a.accept,fileLimit:a.fileLimit,key:a.reloadKey},{header:(0,s.w5)((({chooseCallback:e,clearCallback:t,files:n})=>[(0,s._)("div",i,[(0,s._)("button",{onClick:t=>f.selectFiles(e,a.onFileLimitExceedsCallback,n.length),class:"btn bg-gradient-primary m-1"},(0,l.zw)(a.chooseMessage),9,o),(0,s._)("button",{onClick:e=>t(),class:"btn btn-outline-danger m-1",disabled:!n||0===n.length},"Clear",8,r)])])),content:(0,s.w5)((({files:t,removeFileCallback:a})=>[t.length>0?((0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(t,((t,i)=>((0,s.wg)(),(0,s.iD)("div",{key:t.name+t.type+t.size,class:(0,l.C_)(e.$style["uploaded_file_card"])},[(0,s._)("div",d,[(0,s._)("p",u,(0,l.zw)(t.name),1),(0,s._)("div",p,(0,l.zw)(f.formatSize(t.size)),1)]),(0,s._)("div",m,[(0,s.Wm)(v,{icon:"pi pi-times",onClick:e=>a(i),class:"p-button-outlined p-button-danger p-button-rounded align-self-center"},null,8,["onClick"])])],2)))),128))])])):(0,s.kq)("",!0)])),empty:(0,s.w5)((()=>[(0,s._)("p",null,(0,l.zw)(a.infoMessage),1)])),_:1},8,["onSelect","onClear","onRemove","multiple","accept","fileLimit"])}var g=a(99900),f=a(31826),v={name:"Droparea",props:{reloadKey:{type:Number,default:0,required:!1},fileLimit:{type:Number,default:1,required:!1},multiple:{type:Boolean,default:!1,required:!1},accept:{type:String,default:"",required:!1},chooseMessage:{type:String,default:"Choose files",required:!1},infoMessage:{type:String,default:"Drag and drop files to here to upload.",required:!1},onFileLimitExceedsCallback:{type:Function,default:()=>{console.log("File limit exceeded")},required:!1},isFileLengthZero:{type:Function,default:()=>{console.log("File length is zero")},required:!1}},components:{FileUpload:g.Z,Button:f.Z},methods:{selectFiles(e,t,a){a<this.fileLimit?e():t()},emitRemoveEvent(e){this.$emit("droparea:remove",e)},emitSelectEvent(e){e.originalEvent.stopPropagation(),this.$emit("droparea:select",e)},emitClearEvent(e){this.$emit("droparea:clear")},formatSize(e){if(0===e)return"0 B";let t=1e3,a=3,s=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],l=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,l)).toFixed(a))+" "+s[l]}}},_={uploaded_file_card:"Droparea_uploaded_file_card_Z4dY7"},y=a(40089);const D={};D["$style"]=_;const w=(0,y.Z)(v,[["render",h],["__cssModules",D]]);var b=w},86041:function(e,t,a){a.d(t,{Z:function(){return c}});var s={};a.r(s);var l=a(73396);function i(e,t,a,s,i,o){const r=(0,l.up)("p-column"),n=(0,l.up)("p-datatable");return(0,l.wg)(),(0,l.j4)(n,{value:a.data.rows,responsiveLayout:a.isScrollable?"scroll":"",scrollable:a.isScrollable,scrollHeight:a.setScrollHeight,stripedRows:!0},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.data.columns,(t=>((0,l.wg)(),(0,l.j4)(r,{field:t.key,header:t.displayName,key:t.key,sortable:a.isSortable},(0,l.Nv)({_:2},[a.withCustomBody?{name:"body",fn:(0,l.w5)((({data:a})=>[(0,l.WI)(e.$slots,"column",{rowData:a,currentColumnData:t})])),key:"0"}:void 0]),1032,["field","header","sortable"])))),128))])),_:3},8,["value","responsiveLayout","scrollable","scrollHeight"])}var o={props:{data:s.TableInput,isScrollable:{type:Boolean,default:!0,required:!1},isSortable:{type:Boolean,default:!0,required:!1},withCustomBody:{type:Boolean,default:!1,required:!1},setScrollHeight:{type:String,default:"750px",required:!1}},data(){return{}}},r=a(40089);const n=(0,r.Z)(o,[["render",i]]);var c=n},13239:function(e,t,a){a.r(t),a.d(t,{default:function(){return me}});var s=a(73396),l=a(87139),i=a(49242);const o={class:"container"},r={id:"dataset-import-form",class:"row"},n=(0,s._)("div",{class:"col-lg-2"},null,-1),c={class:"col-lg-8 d-flex justify-content-center flex-column"},d={class:"card d-flex blur justify-content-center p-4 shadow-lg my-sm-0 my-sm-6 mt-8 mb-5"},u=(0,s._)("div",{class:"text-center"},[(0,s._)("p",{class:"h4 text-gradient text-primary"},"Upload a dataset")],-1),p={key:0,class:"card-body d-flex justify-content-center align-items-center dataset-import-form"},m={class:"card-body pb-2"},h={class:"row d-flex justify-content-center"},g={class:"col-8"},f={class:"row"},v=(0,s._)("div",{class:"col-2"},[(0,s._)("label",null,"Name")],-1),_={class:"col-10"},y={class:"input-group mb-4"},D={class:"row d-flex justify-content-center"},w={class:"col-8"},b={class:"row"},k=(0,s._)("div",{class:"col-2"},[(0,s._)("label",null,"Task type")],-1),C={class:"col-10"},S={class:"input-group mb-4",id:"task_autocom"},F={class:"row d-flex justify-content-center"},x={class:"col-8"},I={class:"row"},z=(0,s._)("div",{class:"col-2"},[(0,s._)("label",null,"Language")],-1),N={class:"col-10"},Z={class:"input-group mb-4"},M=["value"],V={class:"row"},B={class:"col-4"},q={class:"row"},P=(0,s._)("div",{class:"col-5"},[(0,s._)("label",null,"CSV only?")],-1),E={class:"col-2"},L={class:"input-group mb-4"},j={key:0,class:"col-6"},T={class:"row"},$={class:"col-6"},R={class:"row"},W={class:"row d-flex justify-content-center"},H={class:"col-md-12 text-center"},U=(0,s._)("div",{class:"col-lg-2"},null,-1),K={class:"row"},Y=(0,s._)("p",{class:"h4 text-gradient text-primary"},"My datasets",-1),A={class:"col-lg-12 d-flex justify-content-center flex-column card p-4"},G={key:0},J={key:0},O={key:1},Q=["onClick"],X={key:1};function ee(e,t,a,ee,te,ae){const se=(0,s.up)("p-progress-spinner"),le=(0,s.up)("AutoComplete"),ie=(0,s.up)("Checkbox"),oe=(0,s.up)("Droparea"),re=(0,s.up)("Table");return(0,s.wg)(),(0,s.iD)("div",{class:(0,l.C_)(e.$style["body"])},[(0,s._)("div",o,[(0,s._)("div",r,[n,(0,s._)("div",c,[(0,s._)("div",d,[u,te.waitingForDatasetImportResponse?((0,s.wg)(),(0,s.iD)("div",p,[(0,s.Wm)(se)])):te.waitingForDatasetImportResponse?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("form",{key:1,autocomplete:"off",onSubmit:t[6]||(t[6]=(0,i.iM)((()=>{}),["prevent"])),class:"dataset-import-form"},[(0,s._)("div",m,[(0,s._)("div",h,[(0,s._)("div",g,[(0,s._)("div",f,[v,(0,s._)("div",_,[(0,s._)("div",y,[(0,s.wy)((0,s._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>te.datasetName=e),placeholder:"Insert Dataset Name Here"},null,512),[[i.nr,te.datasetName]])])])])])]),(0,s._)("div",D,[(0,s._)("div",w,[(0,s._)("div",b,[k,(0,s._)("div",C,[(0,s._)("div",S,[(0,s.Wm)(le,{modelValue:te.task,"onUpdate:modelValue":t[1]||(t[1]=e=>te.task=e),suggestions:te.filteredTasks,onComplete:t[2]||(t[2]=e=>ae.searchTask(e))},null,8,["modelValue","suggestions"])])])])])]),(0,s._)("div",F,[(0,s._)("div",x,[(0,s._)("div",I,[z,(0,s._)("div",N,[(0,s._)("div",Z,[(0,s.wy)((0,s._)("select",{class:"form-control",name:"language-button",id:"language-button","onUpdate:modelValue":t[3]||(t[3]=e=>te.langID=e)},[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(te.languages,(({id:e,label:t})=>((0,s.wg)(),(0,s.iD)("option",{class:"language-select",key:e,value:e},(0,l.zw)(t),9,M)))),128))],512),[[i.bM,te.langID]])])])])])]),(0,s._)("div",V,[(0,s._)("div",B,[(0,s._)("div",q,[P,(0,s._)("div",E,[(0,s._)("div",L,[(0,s.Wm)(ie,{modelValue:te.checked,"onUpdate:modelValue":t[4]||(t[4]=e=>te.checked=e),binary:!0},null,8,["modelValue"])])])])])]),(0,s._)("div",{class:(0,l.C_)(["row",e.$style["upload_files_area"]])},[te.checked?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",j,[(0,s._)("div",T,[(0,s.Wm)(oe,{"onDroparea:select":ae.selectZIP,"onDroparea:clear":ae.clearZIP,"onDroparea:remove":ae.removeZIP,chooseMessage:"Choose ZIP file",accept:".zip",infoMessage:"Please upload here your dataset as zip file."},null,8,["onDroparea:select","onDroparea:clear","onDroparea:remove"])])])),(0,s._)("div",$,[(0,s._)("div",R,[(0,s.Wm)(oe,{"onDroparea:select":ae.selectCSV,"onDroparea:clear":ae.clearCSV,"onDroparea:remove":ae.removeCSV,chooseMessage:"Choose CSV file",accept:".csv",infoMessage:"Please upload here your CSV file."},null,8,["onDroparea:select","onDroparea:clear","onDroparea:remove"])])])],2),(0,s._)("div",W,[(0,s._)("div",H,[(0,s._)("button",{type:"button",class:"btn bg-gradient-info mt-3 mb-0",onClick:t[5]||(t[5]=(...e)=>ae.importDataset&&ae.importDataset(...e))},"Import")])])])],32))])]),U]),(0,s._)("div",K,[Y,(0,s._)("div",A,[(0,s.Wm)(re,{data:te.tableData,isScrollable:!1,withCustomBody:!0},{column:(0,s.w5)((({rowData:e,currentColumnData:t})=>["dataset_actions"==t.key?((0,s.wg)(),(0,s.iD)("div",G,[te.waitingForDatasetDeleteID==e.id?((0,s.wg)(),(0,s.iD)("div",J,[(0,s.Wm)(se,{style:{width:"50px",height:"50px"},strokeWidth:"8",fill:"var(--surface-ground)",animationDuration:".5s"})])):((0,s.wg)(),(0,s.iD)("div",O,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e[t.key],(t=>((0,s.wg)(),(0,s.iD)("span",{key:t.name},[(0,s._)("button",{class:(0,l.C_)("btn "+t.class+" m-1"),onClick:a=>t.action(e.id)},(0,l.zw)(t.name),11,Q)])))),128))]))])):((0,s.wg)(),(0,s.iD)("div",X,(0,l.zw)(e[t.key]),1))])),_:1},8,["data"])])])])],2)}a(70560);var te=a(86041),ae=a(5735),se=a(43602),le=a(89827),ie=a(19223);function oe(e,t,a){const s={columns:[{key:"id",displayName:"ID"},{key:"name",displayName:"Name"},{key:"language",displayName:"Language"},{key:"number_of_tasks",displayName:"Number of tasks"},{key:"number_of_entries",displayName:"Number of entries"},{key:"dataset_actions",displayName:"Actions"}],rows:[]};for(const l of e){const e={};e["id"]=l["id"],e["name"]=l["name"],e["language"]=t.find((e=>e.id===l["language"]))?.label??"Unknown",e["number_of_tasks"]=l["number_of_tasks"],e["number_of_entries"]=l["number_of_entries"],e["dataset_actions"]=a,s.rows.push(e)}return s}var re=a(37263),ne={name:"DatasetsView",components:{Table:te.Z,Droparea:ae.Z,Checkbox:se.Z,AutoComplete:le.Z},data(){return{datasetService:null,datasetName:null,task:null,langID:2,zipFile:null,csvFile:null,checked:!1,waitingForDatasetImportResponse:!1,waitingForDatasetDeleteID:null,tasks:["Text Classification","Summarization","Sentiment Analysis"],languages:[],tableData:[],filteredTasks:[],toastService:(0,s.f3)(re.F)}},created(){this.datasetService=(0,s.f3)(ie.M),this.getDatasets()},methods:{getDatasets(){this.datasetService.getLanguages().then((e=>{this.languages=e["languages"],this.datasetService.getDatasets().then((e=>{let t=[{name:"View",class:"bg-gradient-primary",action:this.viewDataset},{name:"Delete",class:"btn-outline-danger",action:this.deleteDataset}];this.tableData=oe(e["datasets"],this.languages,t)})).catch((e=>this.error("Error",e)))})).catch((e=>this.error("Error",e)))},selectZIP(e){this.zipFile=[...e.files][0]},clearZIP(){this.zipFile=null},removeZIP(e){this.zipFile=null},selectCSV(e){this.csvFile=[...e.files][0]},clearCSV(){this.csvFile=null},removeCSV(e){this.csvFile=null},async importDataset(){if(!(this.checked||this.langID&&this.datasetName&&this.task&&this.zipFile&&this.csvFile))return void this.info("Missing parameters","Please fill all the fields");if(this.checked&&(!this.langID||!this.datasetName||!this.task||!this.csvFile))return void this.info("Missing parameters","Please fill all the fields");const e={lang:this.langID,name:this.datasetName,task:this.task,zipfile:this.zipFile,csvfile:this.csvFile};this.waitingForDatasetImportResponse=!0,await this.datasetService.importDataset(e).then((e=>{this.success("Success","Dataset imported successfully"),this.waitingForDatasetImportResponse=!1,this.reloadPage()})).catch((e=>{this.waitingForDatasetImportResponse=!1,this.error("Error",e)}))},viewDataset(e){this.$router.push({path:`/datasets/${e}`})},async processDataset(e){const t={dataset_id:e};await this.datasetService.processDataset(t).then((e=>{this.success("Success","Dataset processing started")})).catch((e=>{this.error("Error",e)}))},deleteDataset(e){this.waitingForDatasetDeleteID=e,this.datasetService.deleteDataset(e).then((t=>{this.reloadPage(),this.waitingForDatasetDeleteID=null,this.success("Dataset deleted",`Dataset with id ${e} has been deleted`)})).catch((e=>{this.waitingForDatasetDeleteID=null,this.error("Error",e)}))},searchTask(e){0==e.query.trim().length?this.filteredTasks=[...this.tasks]:this.filteredTasks=this.tasks.filter((t=>t.toLowerCase().startsWith(e.query.toLowerCase())))},reloadPage(){this.datasetName=null,this.task=null,this.langID=2,this.zipFile=null,this.csvFile=null,this.checked=!1,this.getDatasets()},success(e,t){this.toastService&&this.toastService.success(t,e)},info(e,t){this.toastService&&this.toastService.info(t,e)},error(e,t){this.toastService&&this.toastService.error(t,e)}}},ce={body:"DatasetsView_body__ZUSr",upload_files_area:"DatasetsView_upload_files_area_we2Nr"},de=a(40089);const ue={};ue["$style"]=ce;const pe=(0,de.Z)(ne,[["render",ee],["__cssModules",ue]]);var me=pe}}]);